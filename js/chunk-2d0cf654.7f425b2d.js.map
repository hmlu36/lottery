{"version":3,"sources":["webpack:///./src/components/Edit.vue?3520","webpack:///src/components/Edit.vue","webpack:///./src/components/Edit.vue?6d00","webpack:///./src/components/Edit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","$event","preventDefault","onUpdateForm","directives","name","rawName","value","expression","attrs","domProps","target","composing","lottery","staticRenderFns","data","created","console","log","JSON","stringify","snapshot","methods","updateEntry","$route","params","id","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIO,GAAG,UAAUH,EAAG,OAAO,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,aAAaF,MAAW,CAACL,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACJ,EAAIO,GAAG,UAAUH,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAW,QAAEgB,WAAW,YAAYV,YAAY,eAAeW,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIC,SAAS,CAAC,MAASlB,EAAW,SAAGQ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOU,OAAOC,YAAqBpB,EAAIqB,QAAQZ,EAAOU,OAAOJ,aAAYX,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BE,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,aAAaF,MAAW,CAACT,EAAIO,GAAG,mBACv3Be,EAAkB,G,YCwBtB,GACEC,KADF,WAEI,MAAO,CACLF,QAAS,KAGbG,QANF,WAMA,WACI,EAAJ,6EACMC,QAAQC,IAAIC,KAAKC,UAAUC,IAC3B,EAAN,oBAcEC,QAAS,CACPnB,aADJ,WACA,WACMc,QAAQC,IAAI,UACZ,IAAN,KACMK,EAAY9B,KAAK+B,OAAOC,OAAOC,IAAMjC,KAAKoB,QAE1C,EAAN,sBACA,UACA,iBACQ,MAAR,SACQ,YAAR,WACU,EAAV,wBACA,QAEA,mBACQ,QAAR,aC/D8U,I,YCO1Uc,EAAY,eACd,EACApC,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAa,E","file":"js/chunk-2d0cf654.7f425b2d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-md-5\"},[_c('h3',{staticClass:\"text-center\"},[_vm._v(\"編輯獎品\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onUpdateForm($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"獎品名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lottery),expression:\"lottery\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.lottery)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.lottery=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary btn-block\",on:{\"click\":function($event){$event.preventDefault();return _vm.onUpdateForm($event)}}},[_vm._v(\" 儲存 \")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row justify-content-center\">\n    <div class=\"col-md-5\">\n      <h3 class=\"text-center\">編輯獎品</h3>\n      <form @submit.prevent=\"onUpdateForm\">\n        <div class=\"form-group\">\n          <label>獎品名稱</label>\n          <input type=\"text\" class=\"form-control\" v-model=\"lottery\" required />\n        </div>\n        <div class=\"form-group\">\n          <button\n            class=\"btn btn-primary btn-block\"\n            @click.prevent=\"onUpdateForm\"\n          >\n            儲存\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { db } from '../firebaseDb';\n\nexport default {\n  data() {\n    return {\n      lottery: '',\n    };\n  },\n  created() {\n    db.ref(`lotteries/${this.$route.params.id}`).on('value', (snapshot) => {\n      console.log(JSON.stringify(snapshot));\n      this.lottery = snapshot.val();\n    });\n    /*\n    let dbRef = db.collection(\"lotteries\").doc(this.$route.params.id);\n    dbRef\n      .get()\n      .then((doc) => {\n        this.lottery = doc.data();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n      */\n  },\n  methods: {\n    onUpdateForm() {\n      console.log('submit');\n      let updateEntry = {};\n      updateEntry[this.$route.params.id] = this.lottery;\n\n      db.ref('lotteries')\n        .update(updateEntry)\n        .then(() => {\n          alert('更新成功!');\n          setTimeout(() => {\n            this.$router.push('/list');\n          }, 500);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      /*\n      event.preventDefault();\n      db.collection(\"lotteries\")\n        .doc(this.$route.params.id)\n        .update(this.lottery)\n        .then(() => {\n          console.log(\"更新成功!\");\n          this.$router.push(\"/list\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n        */\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=33fcd117&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}